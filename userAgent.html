<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="./js/common.js"></script>
	<link rel="stylesheet" href="./css/style.css">
	<title>userAgent</title>
</head>
<body>
	<div id="wrap">
		<div id="container">
			<h2 class="h-tit1">navigator.userAgent</h2>
			<div id="ua"></div>

			<h2 class="h-tit1">body class</h2>
			<div id="bodyClass"></div>

			<h2 class="h-tit1">browser</h2>
			<div id="browser"></div>

			<h2 class="h-tit1">mobile</h2>
			<div id="mobile"></div>

			<h2 class="h-tit1">os</h2>
			<div id="os"></div>

			<h2 class="h-tit1">device</h2>
			<div id="device"></div>

			
			<script>
				var body = document.querySelector('body');
				var ua = navigator.userAgent.toLowerCase();
				
				// 모바일 체크
				var userAgent = {
					Android: function () {return ua.match(/android/i) == null ? false : true;},
					BlackBerry: function () {return ua.match(/blackberry/i) == null ? false : true;},
					iOS: function () {return ua.match(/iphone|ipad|ipod/i) == null ? false : true;},
					IOSPhone: function () {return ua.match(/iphone/i) == null ? false : true;},
					IOSPad: function () {return ua.match(/ipad/i) == null ? false : true;},
					Opera: function () {return ua.match(/opera mini/i) == null ? false : true;},
					Windows: function () {return ua.match(/windows/i) == null ? false : true;},

					edge: function () {return ua.match(/edge|edg/i) == null ? false : true;},
					opera: function () {return ua.match(/opr/i) == null ? false : true;},
					chrome: function () {return ua.match(/chrome/i) == null ? false : true;},
					msie: function () {return ua.match(/trident/i) == null ? false : true;},
					firefox: function () {return ua.match(/firefox/i) == null ? false : true;},
					safari: function () {return ua.match(/safari/i) == null ? false : true;},

					any: function () {return (userAgent.Android() || userAgent.BlackBerry() || userAgent.iOS() || userAgent.Opera() || userAgent.Windows())},

					isMobile: function () {return ua.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i) == null ? false : true;},
				}

				var deviceInfo = {
					os: null,
					device: null,
					browser : null,
					mobile : userAgent.isMobile(),
				}

				// OS 체크
				var osName = (function() {
					switch(true) {
						case userAgent.iOS() : return deviceInfo.os = 'os_ios';
						case userAgent.Android() : return deviceInfo.os = 'os_android';
						case userAgent.BlackBerry() : return deviceInfo.os = 'os_blackBerry';
						case userAgent.Windows() : return deviceInfo.os = 'os_windows';
						default: return "other-os";
					}
				})();

				// 디바이스 체크
				var deviceName = (function() {
					switch(true) {
						case userAgent.IOSPhone() : return deviceInfo.device = 'iPhone';
						case userAgent.IOSPad() : return deviceInfo.device = 'iPad';
						default: return "other-device";
					}
				})();

				// 브라우저 체크
				var browserName = (function() {
					switch(true) {
						case userAgent.edge() : return deviceInfo.browser = "edge";
						case userAgent.opera() && !!window.opr: return deviceInfo.browser = "opera"
						case userAgent.chrome() && !!window.chrome: return deviceInfo.browser = "chrome";
						case userAgent.msie() : return deviceInfo.browser = "msie"
						case userAgent.firefox() : return deviceInfo.browser = "firefox";
						case userAgent.safari() : return deviceInfo.browser = "safari";
						default: return "other-browser";
					}
				})();

				// pc mobile 체크
				var setPlatform = deviceInfo.mobile ? 'mobile' : 'pc';
			
				
				var bodyClass = setPlatform + ' ' + deviceInfo.os + ' ' + deviceInfo.browser + ' ' + deviceInfo.device;

				body.setAttribute('class', bodyClass)


				// 바디 클래스
				document.getElementById('bodyClass').innerText = body.getAttribute('class');
				document.getElementById('ua').innerText = ua;

				document.getElementById('os').innerText = deviceInfo.os;
				document.getElementById('device').innerText = deviceInfo.device;
				document.getElementById('browser').innerText = deviceInfo.browser;
				document.getElementById('mobile').innerText = deviceInfo.mobile;

			</script>
		</div>
	</div>
</body>
</html>