<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ak0513.github.io/javaScript/basic/js/common.js"></script>
    <script src="https://ak0513.github.io/javaScript/basic/js/highlight.min.js"></script>
    <script src="./css/test.js"></script><!-- highlight 미리 보기 위해 삽입 -->
    <link rel="stylesheet" type="text/css" href="https://tistory1.daumcdn.net/tistory_admin/userblog/tistory-4bde1fb20f0ffa5bc6d0d4a8edcb5c6bd4625b4b/static/style/content.css">
    <link rel="stylesheet" type="text/css" href="https://tistory1.daumcdn.net/tistory/4823763/skin/style.css">
    <link rel="stylesheet" type="text/css" href="https://tistory1.daumcdn.net/tistory_admin/userblog/tistory-4bde1fb20f0ffa5bc6d0d4a8edcb5c6bd4625b4b/static/style/uselessPMargin.css">
    <link href="./css/font.css" rel="stylesheet" type="text/css">
    <link href="./css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
    <div id="tt-body-page">
        <div class="area_view">
            <div class="tt_article_useless_p_margin contents_style">
                <h2 data-ke-size="size26">다음요소 찾기</h2>

                <h3 data-ke-size="size23">jQuery의 next()와 동일한 기능 구현</h3>
                <div class="highlight js">
function next(ele, selector) {
    var nextEl = ele.nextElementSibling;
    if (!selector || (nextEl && nextEl.matches(selector))) {
        return nextEl;
    }
    return null;
}
                </div>

                <h3 data-ke-size="size23">jQuery의 nextAll()와 동일한 기능 구현</h3>
                <div class="highlight js">
function nextAll(ele) {
    var result = [];
    while (ele = ele.nextElementSibling)
        result.push(ele);
    return result;
}
                </div>

                <h3 data-ke-size="size23">예시 화면</h3>
                <div class="highlight html">
<div class="selector1">타겟1의 이전 요소</div>
<div class="tar">타겟1</div>
<div class="selector2">타겟1의 다음 요소</div>
<div class="selector3">타겟2의 이전 요소</div>
<div class="tar2">타겟2</div>
<div class="selector4">타겟2의 다음 요소</div>
                </div>
                <div class="highlight js">
var tar = document.querySelector('.tar'); // 타겟1
var tar2 = document.querySelector('.tar2'); // 타겟2

// 타겟1의 다음요소 컬러 변경
next(tar).style.color = 'red'

// 타겟1의 다음요소가 selector와 일치하는 경우에만 컬러 변경
next(tar, '.selector2').style.color = 'red'
next(tar, '.selector1').style.color = 'red' // 다음 요소에 .selector1 이 없으므로 동작 안함

// 타겟1의 이전요소 컬러 변경
prev(tar).style.color = 'red'

// 타겟1의 이전요소가 selector와 일치하는 경우에만 컬러 변경
prev(tar, '.selector1').style.color = 'red'

// 타겟1의 다음요소 모두 선택하여 컬러 변경
nextAll(tar).forEach(function(item) {
    item..style.color = 'red'
})
                </div>

                <h3 data-ke-size="size23">결과물</h3>
                <div class="sample sample1">
                    <div class="selector1">타겟1의 이전 요소</div>
                    <div class="tar">#타겟1</div>
                    <div class="selector2">타겟1의 다음 요소</div>
                    <div class="selector3">타겟2의 이전 요소</div>
                    <div class="tar2">#타겟2</div>
                    <div class="selector4">타겟2의 다음 요소</div>
                </div>
                <div class="sample-btn">
                    <button type="button" id="btn-next-1">타겟1의 다음요소 컬러 변경</button>
                    <button type="button" id="btn-prev-1">타겟1의 이전요소 컬러 변경</button>
                    <button type="button" id="btn-next-2">타겟1의 다음요소가 selector와 일치하는 경우에만 컬러 변경</button>
                    <button type="button" id="btn-prev-2">타겟1의 이전요소가 selector와 일치하는 경우에만 컬러 변경</button>
                    <button type="button" id="btn-nextAll-1">타겟1의 다음요소 모두 선택하여 컬러 변경</button>
                    <button type="button" id="fn3">다음요소</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        var tar = document.querySelector('.sample .tar');
        var tar2 = document.querySelector('.sample .tar2');
        var sampleDiv = document.querySelectorAll('.sample > div');

        function removeStyle() {
            sampleDiv.forEach(function(item) {
                item.removeAttribute('style');
            })
        }

        // 타겟1의 다음요소 컬러 변경
        document.getElementById('btn-next-1').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            ui.next(tar).style.color = 'red'
        })

        // 타겟1의 다음요소가 selector와 일치하는 경우에만 컬러 변경
        document.getElementById('btn-next-2').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            ui.next(tar, '.selector2').style.color = 'red'
        })
        
        // 타겟1의 이전요소 컬러 변경
        document.getElementById('btn-prev-1').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            ui.prev(tar).style.color = 'red'
        })
        
        // 타겟1의 이전요소가 selector와 일치하는 경우에만 컬러 변경
        document.getElementById('btn-prev-2').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            ui.prev(tar, '.selector1').style.color = 'red'
        })

        // 타겟1의 다음요소 모두 선택하여 컬러 변경
        document.getElementById('btn-nextAll-1').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            ui.nextAll(tar).forEach(function(item) {
                item.style.color = 'red'
            })
        })

        document.getElementById('fn3').addEventListener('click', function() {
            ui.removeAttr(sampleDiv, 'style');
            tar.nextElementSibling.style.color = 'red'
        })

        /* 샘플 버튼 제어 */
        var btnSample = document.querySelectorAll('.sample-btn button');
        btnSample.forEach(function(item) {
            item.addEventListener('click', function() {
                var itemSiblings = ui.siblings(item);
                itemSiblings.forEach(function(item) {
                    item.classList.remove('on')
                })
                item.classList.add('on');
            })
        })
    </script>
</body>
</html>